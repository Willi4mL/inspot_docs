!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ESRGANLegacyGANS=t()}(this,function(){"use strict";const t=e=>Array.isArray(e),r=e=>t(e)?e[0]:e;var{scale:n,name:e,version:a,meta:{architecture:s,...l},path:c}=[{scale:4,path:"models/gans/model.json",name:"@upscalerjs/esrgan-legacy",version:"1.0.0-beta.14",meta:{dataset:"div2k",architecture:"rrdn"}}][0];return c=c||`models/x${n}/model.json`,"rdn"===s?{scale:n,modelType:"layers",_internals:{path:c,name:e,version:a},meta:{architecture:s,...l},inputRange:[0,255],outputRange:[0,255]}:{setup:a=>{const s=a.layers.Layer;class e extends s{beta;constructor(){super({}),this.beta=.2}call(e){return a.mul(r(e),this.beta)}static className="MultiplyBeta"}[e,(e=>{class t extends s{scale=e;constructor(){super({})}computeOutputShape(e){return[e[0],e[1],e[2],3]}call(e){return a.depthToSpace(r(e),this.scale,"NHWC")}static className=`PixelShuffle${n}x`}return t})(n)].forEach(e=>{a.serialization.registerClass(e)})},scale:n,modelType:"layers",_internals:{path:c,name:e,version:a},meta:{architecture:s,...l},inputRange:[0,1],outputRange:[0,1]}});